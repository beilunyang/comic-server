{"version":3,"sources":["../src/main.js"],"names":["process","on","err","error","app","init","use","routes","port","env","NODE_ENV","listen","info"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;AACAA,QAAQC,EAAR,CAAW,oBAAX,EAAiCC,OAAO;AACtC,QAAMA,GAAN;AACD,CAFD;;AAIAF,QAAQC,EAAR,CAAW,mBAAX,EAAgCC,OAAO;AACrC,gBAAIC,KAAJ,CAAU,oBAAV,EAAgCD,GAAhC;AACD,CAFD;;AAIA,MAAME,MAAM,mBAAZ;;AAEA,UAAGC,IAAH;AACAD,IAAIE,GAAJ,CAAQ,sBAAR;AACAF,IAAIE,GAAJ,CAAQ,8BAAR;AACAF,IAAIE,GAAJ,CAAQ,iBAAOC,MAAP,EAAR;;AAEA,MAAMC,OAAO,iBAAOR,QAAQS,GAAR,CAAYC,QAAZ,IAAwB,SAA/B,EAA0CF,IAAvD;;kBAEeJ,IAAIO,MAAJ,CAAWH,IAAX,EAAiB,MAAM;AACpC,gBAAII,IAAJ,CAAU,oBAAmBJ,IAAK,EAAlC;AACD,CAFc,C","file":"main.js","sourcesContent":["import Koa from 'koa';\nimport bodyParser from 'koa-bodyparser';\nimport log from 'log';\nimport config from 'config';\nimport router from 'routes';\nimport cors from 'kcors';\nimport { db } from 'utils';\n// error handle\nprocess.on('unhandledRejection', err => {\n  throw err;\n});\n\nprocess.on('uncaughtException', err => {\n  log.error('uncaughtException:', err);\n});\n\nconst app = new Koa();\n\ndb.init();\napp.use(cors());\napp.use(bodyParser());\napp.use(router.routes());\n\nconst port = config[process.env.NODE_ENV || 'develop'].port;\n\nexport default app.listen(port, () => {\n  log.info(`server listen at ${port}`);\n});\n"]}